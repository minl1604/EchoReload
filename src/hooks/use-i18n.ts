import { create } from 'zustand';
import { persist, createJSONStorage } from 'zustand/middleware';
type Language = 'en' | 'vi';
interface I18nState {
  language: Language;
  setLanguage: (lang: Language) => void;
}
const translations = {
  en: {
    appTitle: 'Ethical Reload',
    heroDescription: 'A client-side tool for controlled, consent-based automated testing and performance monitoring. Built for developers and QA teams.',
    qaBadge: 'For QA & Testing Purposes',
    viewDashboard: 'View Dashboard',
    getStarted: 'Get Started',
    settings: 'Settings',
    responsibleTitle: 'Responsible & Transparent Testing',
    responsibleDescription: 'Our platform is designed with safety and ethics at its core. We do not facilitate harmful or deceptive practices.',
    consentBased: 'Consent-Based',
    consentBasedDesc: 'Every schedule requires explicit confirmation of ownership or permission, with an audit trail.',
    clientSideOnly: 'Client-Side Only',
    clientSideOnlyDesc: 'Reloads are initiated by your browser. Our servers only store metadata, never making requests on your behalf.',
    builtForQA: 'Built for QA',
    builtForQADesc: 'Perfect for load testing, uptime monitoring, and automating repetitive checks in a controlled environment.',
    footerText: 'Built with ❤️ at Cloudflare. This is a demo for QA and testing purposes only.',
    scheduleCreated: 'Schedule created successfully!',
    newScheduleTitle: 'New QA Schedule',
    scheduleDescription: 'Configure a controlled reload schedule for testing purposes.',
    label: 'Label',
    labelPlaceholder: 'e.g., Staging Server Health Check',
    targetUrl: 'Target URL',
    targetUrlDesc: 'The URL to reload. Must be a server you own or have permission to test.',
    intervalLabel: 'Interval (sec)',
    intervalTooltip: 'Minimum 5 seconds to prevent abuse.',
    countLabel: 'Reload Count',
    consentLabel: 'I confirm I own this domain or have explicit permission to perform this automated test.',
    consentDescription: 'This tool must be used ethically and legally.',
    startButton: 'Start Controlled Reload',
    scheduling: 'Scheduling...',
    monitorTitle: 'Monitor Dashboard',
    monitorDesc: 'View and manage all active and past QA schedules.',
    recentActivity: 'Recent Activity',
    activityDesc: 'Events reported by clients in the last 30 minutes.',
    exportLogs: 'Export Logs',
    retry: 'Retry',
    tableLabel: 'Label',
    tableTarget: 'Target',
    tableStatus: 'Status',
    tableCreated: 'Created',
    tableActions: 'Actions',
    statusUpdated: 'Schedule status updated.',
    scheduleDeleted: 'Schedule deleted.',
    'status.running': 'Running',
    'status.paused': 'Paused',
    'status.completed': 'Completed',
    'status.error': 'Error',
    settingsTitle: 'Settings',
    settingsDesc: 'Manage global safety controls and review audit logs.',
    safetyControls: 'Global Safety Controls',
    safetyDesc: 'These settings apply to all schedules to prevent misuse.',
    minIntervalLabel: 'Minimum Interval (seconds)',
    dailyCapLabel: 'Daily Reload Cap (per user)',
    maxConcurrencyLabel: 'Max Concurrent Schedules (per user)',
    saveSettings: 'Save Settings',
    saving: 'Saving...',
    auditTitle: 'Consent Audit Log',
    auditDesc: 'Record of all schedule creation consents.',
    tableTimestamp: 'Timestamp',
    tableHash: 'User Agent Hash (SHA-1)',
    settingsUpdated: 'Settings updated successfully!',
  },
  vi: {
    appTitle: 'Tải Lại Đạo Đức',
    heroDescription: 'Công cụ phía máy khách để kiểm thử tự động có kiểm soát, dựa trên sự đồng thuận và giám sát hiệu suất. Dành cho nhà phát triển và đội ngũ QA.',
    qaBadge: 'Cho Mục Đích QA & Thử Nghiệm',
    viewDashboard: 'Xem Bảng Điều Khiển',
    getStarted: 'Bắt Đầu',
    settings: 'Cài Đặt',
    responsibleTitle: 'Thử Nghiệm Có Trách Nhiệm & Minh Bạch',
    responsibleDescription: 'Nền tảng của chúng tôi được thiết kế với sự an toàn và đạo đức làm cốt lõi. Chúng tôi không hỗ trợ các hành vi gây hại hoặc lừa đảo.',
    consentBased: 'Dựa Trên Sự Đồng Thuận',
    consentBasedDesc: 'Mỗi lịch trình đều yêu cầu xác nhận rõ ràng về quyền sở h��u hoặc quyền được phép, kèm theo dấu vết kiểm tra.',
    clientSideOnly: 'Chỉ Phía Máy Khách',
    clientSideOnlyDesc: 'Việc tải l���i được khởi tạo bởi trình duyệt của bạn. Máy chủ của chúng tôi chỉ lưu trữ siêu dữ liệu, không bao giờ thay mặt bạn gửi yêu cầu.',
    builtForQA: 'Dành Cho QA',
    builtForQADesc: 'Hoàn hảo để kiểm tra tải, giám sát thời gian hoạt động và tự động hóa các kiểm tra lặp đi lặp lại trong môi trường được kiểm soát.',
    footerText: 'Được xây dựng với ❤️ tại Cloudflare. Đây là bản demo chỉ dành cho mục đích QA và thử nghiệm.',
    scheduleCreated: 'Lịch trình đã được tạo thành công!',
    newScheduleTitle: 'Lịch QA Mới',
    scheduleDescription: 'Cấu hình lịch tải lại có kiểm soát cho mục đích thử nghiệm.',
    label: 'Nhãn',
    labelPlaceholder: 'ví d��: Kiểm tra tình trạng máy chủ Staging',
    targetUrl: 'URL Mục Tiêu',
    targetUrlDesc: 'URL để tải lại. Phải là máy chủ bạn sở hữu hoặc có quyền thử nghiệm.',
    intervalLabel: 'Khoảng cách (giây)',
    intervalTooltip: 'Tối thiểu 5 giây để ngăn chặn lạm dụng.',
    countLabel: 'Số Lần Tải Lại',
    consentLabel: 'Tôi xác nhận tôi sở hữu tên miền này hoặc có quyền rõ ràng để thực hiện thử nghiệm tự động này.',
    consentDescription: 'Công cụ này phải được sử dụng một cách có đạo đức và hợp pháp.',
    startButton: 'Bắt Đầu Tải Lại Có Kiểm Soát',
    scheduling: 'Đang lên lịch...',
    monitorTitle: 'Bảng Điều Khiển Giám Sát',
    monitorDesc: 'Xem và quản lý tất cả các lịch trình QA đang hoạt động và đã qua.',
    recentActivity: 'Hoạt Động Gần Đây',
    activityDesc: 'Các sự kiện được báo cáo bởi máy khách trong 30 phút qua.',
    exportLogs: 'Xuất Nhật Ký',
    retry: 'Thử Lại',
    tableLabel: 'Nhãn',
    tableTarget: 'Mục tiêu',
    tableStatus: 'Trạng thái',
    tableCreated: 'Đã tạo',
    tableActions: 'Hành động',
    statusUpdated: 'Đã cập nhật trạng thái lịch trình.',
    scheduleDeleted: 'Đã xóa lịch trình.',
    'status.running': 'Đang chạy',
    'status.paused': 'Tạm dừng',
    'status.completed': 'Hoàn thành',
    'status.error': 'Lỗi',
    settingsTitle: 'Cài Đặt',
    settingsDesc: 'Quản lý các kiểm soát an toàn toàn cầu và xem lại nhật ký kiểm tra.',
    safetyControls: 'Kiểm Soát An Toàn Toàn Cầu',
    safetyDesc: 'Các cài đặt này áp dụng cho tất cả các lịch trình để ngăn chặn việc lạm dụng.',
    minIntervalLabel: 'Khoảng Thời Gian Tối Thiểu (giây)',
    dailyCapLabel: 'Giới Hạn Tải Lại Hàng Ngày (mỗi người dùng)',
    maxConcurrencyLabel: 'Số L���ch Trình Đồng Thời Tối Đa (mỗi người dùng)',
    saveSettings: 'Lưu Cài Đặt',
    saving: 'Đang lưu...',
    auditTitle: 'Nhật Ký Kiểm Tra Đồng Thuận',
    auditDesc: 'Bản ghi tất cả các sự đồng thuận khi tạo lịch trình.',
    tableTimestamp: 'Dấu thời gian',
    tableHash: 'Mã Băm User Agent (SHA-1)',
    settingsUpdated: 'Cài đặt đã được cập nhật thành công!',
  },
};
const useI18nStore = create<I18nState>()(
  persist(
    (set) => ({
      language: 'en',
      setLanguage: (lang) => set({ language: lang }),
    }),
    {
      name: 'ethical-reload-language',
      storage: createJSONStorage(() => localStorage),
    }
  )
);
export function useTranslation() {
  const language = useI18nStore((state) => state.language);
  const setLanguage = useI18nStore((state) => state.setLanguage);
  const t = (key: keyof typeof translations.en) => {
    return translations[language][key] || translations.en[key];
  };
  return { t, setLanguage, language };
}